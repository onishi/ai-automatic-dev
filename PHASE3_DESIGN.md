# フェーズ3設計: ローグライクRPG要素の導入

## 概要
フェーズ2で完成した宇宙シューティングゲームに、ローグライクRPG要素を大幅に追加し、より深いゲーム体験を提供する。

## 大幅な変更方針
従来のリニアなステージ進行から、**ランダム生成されるダンジョン型ステージ**に変更し、RPG要素を強化する。

## 新機能

### 1. ランダムダンジョンシステム
- 各ステージがランダム生成される迷路型マップ
- 複数の部屋が通路で繋がれた構造
- 各部屋に異なるイベント（戦闘・宝箱・ショップ・ボス）
- プレイヤーは部屋を探索しながら進む

### 2. RPGステータスシステム
- レベルアップによるステータス成長
  - HP（耐久力）
  - 攻撃力
  - 防御力
  - 速度
  - 幸運度（クリティカル率・アイテム発見率）
- ステータスポイントの振り分け選択

### 3. アイテム・装備システム
- 武器強化アイテム
- 防具（シールド強化）
- 消耗品（回復アイテム・一時的強化）
- レアアイテムとセットボーナス

### 4. 経済システム
- 通貨「クレジット」の導入
- ショップでのアイテム売買
- アイテムの価値変動

### 5. 永続的進歩システム
- 死亡時にクレジットの一部を保持
- アンロック要素（新武器・新キャラクター）
- 実績システム

### 6. 新しいゲームプレイループ
1. ダンジョン探索開始
2. 部屋間を移動しながら戦闘・アイテム収集
3. ステータス強化・装備更新
4. ボス戦
5. 次のダンジョンまたは死亡→再挑戦

## UI/UX変更
- ミニマップの追加
- ステータス画面
- インベントリ画面
- ショップUI
- ダンジョン進行状況表示

## 技術的変更
- マップ生成アルゴリズム
- セーブ・ロードシステム
- より複雑な状態管理
- メニューシステムの拡張

## 実装フェーズ計画
- **3-1**: この設計書作成
- **3-2**: ダンジョンシステムとRPG基盤の基本実装
- **3-3**: アイテム・装備システムと経済システムの実装
- **3-4**: バランス調整・バグ修正・v3バージョン保存