# フェーズ2設計書：高度なゲームシステムとプレイヤー体験の向上

## 概要
フェーズ1で完成した「Space Guardian」を、RPG要素を含む本格的なアクションゲームへ進化させる。

## 大きな変更方針

### 1. ステージシステムの導入
- 現在の無限ループから明確なステージクリア要素を追加
- ステージ1-1, 1-2, 1-3... のような構成
- 各ステージに固有の背景、敵配置、難易度設定

### 2. ボスバトル要素
- 各ステージの最後に登場する強力なボス敵
- 複数の攻撃パターンを持つボス
- ボス専用のHP表示とフェーズ変化

### 3. 武器システムの拡張
- 複数の武器タイプ（レーザー、ミサイル、プラズマキャノンなど）
- 武器のレベルアップシステム
- 特殊弾薬と効果

### 4. プレイヤー成長要素
- 経験値システム
- レベルアップによる能力向上
- スキルポイントと能力振り分け

### 5. ローカルストレージによるセーブ機能
- プレイヤーの進行状況保存
- ハイスコア記録
- 武器・アップグレード状況の保存

## フェーズ別実装計画

### 2-1（設計フェーズ）
- ✅ ステージシステム設計
- ✅ ボス敵の仕様策定
- ✅ 武器・アップグレードシステム設計
- ✅ プレイヤー成長システム設計

### 2-2（基本実装フェーズ）
- ステージ管理システム実装
- 基本的なボス敵実装
- 新武器システムの基盤実装

### 2-3（発展・完成度向上フェーズ）
- 複数ボスバリエーション追加
- 武器エフェクト・バランス調整
- レベルアップ演出とUI改善

### 2-4（検証・バグ修正フェーズ）
- ゲームバランス調整
- セーブ機能実装
- バージョン2.0のリリース

## 技術的実装方針

### ステージシステム
```javascript
class StageManager {
    currentStage: number
    stageConfig: Array<StageConfig>
    bossDefeated: boolean
}
```

### ボスシステム
```javascript
class Boss extends Enemy {
    phases: Array<BossPhase>
    currentPhase: number
    maxHP: number
    currentHP: number
}
```

### 武器システム
```javascript
class WeaponSystem {
    currentWeapon: WeaponType
    weaponLevel: number
    availableWeapons: Array<Weapon>
}
```

この設計により、Space Guardianは単純なシューティングゲームから本格的なアクションRPGへと進化する。